<canvas width="1000px" height="1000px" id="canvas">Use latest Chrome pls</canvas>
<textarea style="width: 40%; height: 120px; resize: none;" id="guiholder" placeholder="This will be a GUI soon, but it does nothing RN"></textarea>
<textarea style="width: 40%; height: 120px; resize: none;" id="json" placeholder="JSON array of objects containing image URL, X offset, and Y offset"></textarea>
<button style="width: 20%; height: 120px;" id="clickity">Generate</button>

<script>
  let ctx = document.getElementById("canvas").getContext("2d");
  let images = {};
  
  document.body.style.margin = 0;
  document.body.style.padding = 0;
  document.getElementsByTagName("html")[0].style.overflow = "hidden";
  
  document.getElementById("json").value = JSON.stringify([{"url": "http://file/to/url.png","x": 500,"y": 500},{"url": "http://file/to/url.jpg","x": 842,"y": 184}]);
  
  document.getElementById("canvas").style.width = window.innerWidth;
  document.getElementById("canvas").style.height = window.innerHeight - 120;

  document.getElementById("clickity").addEventListener("click", function() {
    ctx.clearRect(0, 0, document.getElementById("canvas").width, document.getElementById("canvas").height);
    
    for (let item of JSON.parse(document.getElementById("json").value).reverse()) {
      if (!images[item.url]) {
          images[item.url] = new Image();
          images[item.url].src = item.url;
        
          images[item.url].onload = function() {
            ctx.drawImage(images[item.url], item.x, item.y);
          }
      } else {
        ctx.drawImage(images[item.url], item.x, item.y);
      }
    }
  });
</script>
